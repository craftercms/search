{
  "settings": {
    "analysis": {
      "analyzer": {
        "html_analyzer" : {
          "type": "custom",
          "tokenizer": "standard",
          "char_filter": [
            "html_strip"
          ],
          "filter": [
            "lowercase"
          ]
        }
      }
    }
  },
  "mappings": {
    "_doc": {
      "properties": {
        "crafterSite": {
          "type": "keyword"
        },
        "localId": {
          "type": "keyword"
        },
        "id": {
          "type": "keyword"
        },
        "rootId": {
          "type": "keyword"
        },
        "objectId": {
          "type": "keyword"
        },
        "objectGroupId": {
          "type": "keyword"
        },
        "merge-strategy": {
          "type": "keyword"
        },
        "content-type": {
          "type": "keyword"
        },
        "internal-name": {
          "type": "keyword"
        },
        "file-name": {
          "type": "keyword"
        },
        "includedDescriptors": {
          "type": "keyword"
        },
        "crafterPublishedDate": {
          "type": "keyword"
        },
        "createdDate": {
          "type": "keyword"
        },
        "lastModifiedDate": {
          "type": "keyword"
        },
        "disabled": {
          "type": "boolean"
        },
        "disableFlattening": {
          "type": "boolean"
        },
        "placeInNav": {
          "type": "boolean"
        },
        "display-template": {
          "type": "keyword"
        },
        "title": {
          "type": "keyword"
        },
        "content": {
          "type": "text"
        }
      },
      "dynamic_templates": [
        {
          "ints": {
            "match_pattern": "regex",
            "match": ".+_(i|is|imv)$",
            "mapping": {
              "type": "float"
            }
          }
        },
        {
          "floats": {
            "match_pattern": "regex",
            "match": ".+_(f|fs|fmv)$",
            "mapping": {
              "type": "float"
            }
          }
        },
        {
          "strings": {
            "match_pattern": "regex",
            "match": ".+_(s|ss|smv)$",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "longs": {
            "match_pattern": "regex",
            "match": ".+_(l|ls|lmv)$",
            "mapping": {
              "type": "long"
            }
          }
        },
        {
          "texts": {
            "match_pattern": "regex",
            "match": ".+_(t|txt|en|html)$",
            "mapping": {
              "type": "text",
              "analyzer": "html_analyzer"
            }
          }
        },
        {
          "texts": {
            "match_pattern": "regex",
            "match": ".+_raw$",
            "mapping": {
              "enabled": "false"
            }
          }
        },
        {
          "booleans": {
            "match_pattern": "regex",
            "match": ".+_(b|bs|bmv)$",
            "mapping": {
              "type": "boolean"
            }
          }
        },
        {
          "doubles": {
            "match_pattern": "regex",
            "match": ".+_(d|ds|dmv)$",
            "mapping": {
              "type": "double"
            }
          }
        },
        {
          "date": {
            "match_pattern": "regex",
            "match": ".+_(dt|dts|to|tos)$",
            "mapping": {
              "type": "date",
              "format" : "strict_date_optional_time||epoch_millis||8yyyy-M-dd'T'HH:mm:ss.SSSZ||HH:mm:ss"
            }
          }
        },
        {
          "points": {
            "match_pattern": "regex",
            "match": ".+_(pt|pts)$",
            "mapping": {
              "type": "geo_point"
            }
          }
        },

        {
          "includeKeys": {
            "path_match": "*.item.key",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "includeValues": {
            "path_match": "*.item.value",
            "mapping": {
              "type": "keyword"
            }
          }
        },
        {
          "includedDescriptors": {
            "path_match": "*.include",
            "mapping": {
              "type": "keyword",
              "copy_to": "includedDescriptors"
            }
          }
        }
      ]
    }
  }
}