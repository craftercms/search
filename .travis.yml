language: java
jdk:
- openjdk8
branches:
  except:
  - travis
notifications:
  irc:
    channels:
    - chat.freenode.net#craftercms
    use_notice: true
    skip_join: true
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
env:
  global:
  - secure: COTBijEB+gjVeTC9c+T0jaeKQd4XJZsGCRw1sTLUa1Cmi6C1OMKS3IVtLN9BuEFC5sdLA5O9B8mpYDYXN05JJBkoA2fLdHzQGc2YqzW1rjVRWY8MqMgb1k0uohWZF0mr6l0qbUmgTuWnMWGqsa2IKSdXYXl1SlR2WESmMvC73zE=
  - secure: 31RiJ+WS2I3Dp7qrAkI9xOvo+uvNA1RcJtuVkwEITAE/Efk4nltc7Q1l6XG2ZqdGfVYJr6rTq3Wiy0YQZ9rGNBmlEhOmuqpFiGauwDNlbeVZf8pwR2AsbFteZTn1Lh057OSMYziAs+2XIQpKHg0LRAF0WbThunVO7q8StgSyJSc=
before_install: git clone -b travis `git config --get remote.origin.url` target/travis
script:
- if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c  "mvn deploy --settings
  target/travis/settings.xml";  fi
- if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install" ;fi
